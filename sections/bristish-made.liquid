<section class="welcome">
  <div class="container">
    <div class="british-outer">
      <div class="image-text-collage">
        {% for block in section.blocks %}
          {% if block.type == 'image_with_text' %}
            <div class="collage-item">
              <img src="{{ block.settings.image | img_url: 'master' }}" alt="Image">
            </div>
          {% endif %}
        {% endfor %}
      </div>
      <div class="block-content">
        {% for block in section.blocks %}
          {% if block.type == 'section_text' %}
            <div class="text">
              <h2>{{ block.settings.heading }}</h2>
              <p>{{ block.settings.paragraph }}</p>
              <a href="{{ block.settings.button_url }}" class="button">{{ block.settings.button_text }}</a>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
</section>

<!-- Welcome section ends -->

{% schema %}
{
  "name": "multiple_images_with_text",
  "settings": [],
  "presets": [
    {
      "name": "multiple_images_with_text",
      "category": "ADVANCED LAYOUT"
    }
  ],
  "blocks": [
    {
      "type": "image_with_text", 
      "name": "Image with Text",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        }
      ]
    },
    {
      "type": "section_text",
      "name": "text",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "richtext",
          "id": "paragraph",
          "label": "Paragraph"
        },
        {
          "type": "url",
          "id": "button_url",
          "label": "Button URL"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text"
        }
      ]
    }
  ]
}
{% endschema %}

{% stylesheet %}
.welcome {
  /* Add styling for the welcome section if needed */
}

.image-text-collage {
  display: flex;
  flex-wrap: wrap; /* Allows items to wrap to the next line */
}

.collage-item {
  flex: 0 0 calc(33.33% - 10px); /* Adjust width based on number of images, minus margin */
  margin-right: 10px;
  margin-bottom: 10px; /* Add margin at the bottom */
}

.collage-item img {
  max-width: 100%;
  height: auto;
  margin-top: 70px;
}

.text {
  margin-top: 10px;
}
{% endstylesheet %}

{% javascript %}
// No JavaScript needed for this implementation
{% endjavascript %}
